{% extends "base.html" %}
{% block title %}Home | TableFlow{% endblock %}
{% block content %}
<div class="hero p-4 p-md-5 rounded-4 mb-4">
  <div class="row align-items-center g-4">
    <div class="col-md-7">
      <h1 class="display-6 fw-bold">Reserve tables faster. Reduce wait times.</h1>
      <p class="lead text-muted mb-4">
        Book in seconds, browse the menu, and get real-time updates via Live Board and Live Chat.
      </p>
      <div class="d-flex gap-2 flex-wrap">
        <a class="btn btn-primary btn-lg" href="{% url 'reservations:create_reservation' %}">Make a Reservation</a>
        <a class="btn btn-outline-secondary btn-lg" href="{% url 'menu:menu_home' %}">View Menu</a>
        <a class="btn btn-outline-secondary btn-lg" href="{% url 'announcements:live_board' %}">Live Board</a>
      </div>
    </div>
    <div class="col-md-5">
      <div class="glass p-3 rounded-4">
        <h6 class="text-uppercase text-muted mb-2">Latest announcements</h6>
        {% if latest_announcements %}
          <ul class="list-unstyled mb-0">
            {% for a in latest_announcements %}
              <li class="mb-2">
                <div class="fw-semibold">{{ a.title }}</div>
                <div class="small text-muted">{{ a.message|truncatechars:90 }}</div>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <div class="text-muted">No announcements yet.</div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<h4 class="fw-bold mb-3">Featured menu items</h4>
<div class="row g-3">
  {% for item in featured_items %}
    <div class="col-12 col-md-6 col-lg-4">
      <a class="card card-hover h-100 text-decoration-none" href="{% url 'menu:item_detail' item.id %}">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">{{ item.name }}</div>
              <div class="small text-muted">{{ item.category.name }}</div>
            </div>
            <span class="badge text-bg-light border">â‚±{{ item.price }}</span>
          </div>
          <p class="text-muted mt-2 mb-0 small">{{ item.description|default:""|truncatechars:120 }}</p>
        </div>
      </a>
    </div>
  {% empty %}
    <div class="text-muted">No menu items yet. Add some in the admin panel.</div>
  {% endfor %}
</div>
{% endblock %}
